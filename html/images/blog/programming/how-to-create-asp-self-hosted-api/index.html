
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head><meta charset="utf-8" /><title>Create a self hosted API for Local Development - DotNet Blog </title><meta name="twitter:card" content="summary">
<meta property="og:title" content="Create a self hosted API for Local Development" /><meta itemprop="name" content="Create a self hosted API for Local Development" /><meta name="twitter:title" content="Create a self hosted API for Local Development">
<meta name="author" content="Jeremy Morgan" />
<meta property="article:author" content="https://plus.google.com/+JeremyMorgan" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2014-05-13 20:20:00 -0700" />

<meta property="article:section" content="DotNetProgramming" />

<meta name="description" content="In this tutorial I'll show you how you can build your own self hosted ASP.Net Web API for local development on your machine" />
<meta property="og:description" content="In this tutorial I'll show you how you can build your own self hosted ASP.Net Web API for local development on your machine" />
<meta itemprop="description" content="In this tutorial I'll show you how you can build your own self hosted ASP.Net Web API for local development on your machine" />
<meta name="twitter:description" content="In this tutorial I'll show you how you can build your own self hosted ASP.Net Web API for local development on your machine">

<meta property="og:image" content="https://www.jeremymorgan.com/images/how-to-self-host-asp-web-api-6.png" /><meta itemprop="image" content="https://www.jeremymorgan.com/images/how-to-self-host-asp-web-api-6.png" /><meta name="twitter:image" content="https://www.jeremymorgan.com/images/how-to-self-host-asp-web-api-6.png"><meta property="og:site_name" content="JeremyMorgan.com" />
 <!-- http://t.co/dKP3o1e -->
<meta name="twitter:url" content="https://www.jeremymorgan.com/blog/programming/how-to-create-asp-self-hosted-api/">
<meta property="og:url" content="https://www.jeremymorgan.com/blog/programming/how-to-create-asp-self-hosted-api/" />
<link rel="canonical" href="https://www.jeremymorgan.com/blog/programming/how-to-create-asp-self-hosted-api/" />
<link href="/favicon.png" rel="icon" />
<meta name="twitter:site" content="@JeremyCMorgan">
<meta name="twitter:creator" content="@JeremyCMorgan">
<meta name="HandheldFriendly" content="True" />
<meta name="MobileOptimized" content="320" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="https://www.jeremymorgan.com/css/screen.css" media="screen, projection" rel="stylesheet" type="text/css" />
<link href="http://feeds.feedburner.com/jeremymorgan/NJwt" rel="alternate" title="Jeremy's Programming Blog" type="application/atom+xml" /></head>
<body   >
  <header role="banner"><hgroup><div id="logo"><div id="logoLeft">{</div><div id="logoText">JM</div><div id="logoRight">}</div><div class="clear"></div></div><h1><a href="/">Jeremy Morgan</a></h1><h2>Mostly Coherent Ramblings of a Silicon Forest Software Developer</h2><div class="clear"></div></hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="http://feeds.feedburner.com/jeremymorgan/NJwt" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:www.jeremymorgan.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation"> <li><a href="/">Home</a></li>  <li><a href="/blog/programming/">Programming</a></li> <li><a href="/tutorials/">Tutorials</a></li><li><a href="/blog/seo/">SEO</a></li><li><a href="/seo-tools/">SEO Tools</a></li><li><a href="/funny/">Funny</a></li>  <li><a href="/contact/">Contact</a></li></ul>
</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  <header>
    
    
        <h1 class="entry-title">Create a Self Hosted API for Local Development</h1>
    <br /><p>Author:  <a href="/about/" rel="author">Jeremy Morgan</a>
    <br />
    <br />
<a href="https://twitter.com/JeremyCMorgan" class="twitter-follow-button" data-show-count="false">Follow @JeremyCMorgan</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
<br />
<!-- Place this tag where you want the +1 button to render. -->
<div class="g-plusone" data-annotation="inline" data-width="300"></div>

<!-- Place this tag where you want the badge to render. -->
<!-- <div class="g-plus" data-width="352" data-height="69" data-href="//plus.google.com/112073155512624080129" data-rel="author"></div> -->
  
    
    
      <p class="meta">
        








  


<time datetime="2014-05-13T20:20:00-07:00" pubdate data-updated="true">May 13<span>th</span>, 2014</time>
        
      </p>
    
  </header>


<div style="margin-left: auto; margin-right: auto; width: 480px;">
<script type="text/javascript"><!--
google_ad_client = "ca-pub-8244625199628957";
/* JM in Article 468 */
google_ad_slot = "1362025951";
google_ad_width = 468;
google_ad_height = 60;
//-->
</script>
<script type="text/javascript" src="https://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>
<br />
<div class="entry-content"><p>If you&#8217;ve ever worked in an overly restrictive environment, you know you have to come up with some workarounds to get your job done. I worked in such and environment and ran into a problem developing some front end pages to work with an API, but I didn&#8217;t want to use live data. Here&#8217;s a solution I came up with and I decided to write it out and explain it in hopes it will help others.</p>

<!-- more -->


<p>
Tools Needed for this Tutorial (both free of charge):</p>

<ul>
<li><a href="http://www.microsoft.com/en-us/download/details.aspx?id=40787" rel="nofollow" target="_new">Microsoft Visual Studio 2013 Express for Desktop</a></li>
<li><a href="http://www.telerik.com/download/fiddler" rel="nofollow" target="_new">Telerik Fiddler</a></li>
</ul>


<h3>Why a self hosted API?</h3>

<p>When you&#8217;re developing front end stuff its always nice to have a development environment to work against rather than live data, as I explain in <a href="http://www.jeremymorgan.com/blog/programming/smell-it-before-you-eat-it/">smell it before you eat it.</a> But what if a development environment isn&#8217;t available? What if you can&#8217;t install IIS on your machine either? In that case you make a self hosted API to send fake calls to, and try to replicate the behavior.</p>

<p>You don&#8217;t need anything other than Visual Studio to do this, and it gives you a good starting point, and since everything is stored in memory you don&#8217;t have to worry about breaking anything important. There are some other cool uses for a self hosted API but today we&#8217;ll focus on using it to test your JavaScript front end stuff.</p>

<p>For this tutorial I&#8217;m going to assume you already know all about REST and some ASP.Net API basics.</p>

<h3>Find out what you need.</h3>

<p>First you need to find out which API functions you&#8217;ll need and map them out, because you&#8217;re going to have replicate them here, on a small scale. For the demo, we&#8217;re going to make something that stores a listing of books.</p>

<blockquote><p>/API/Book</p></blockquote>

<p>We want to be able to have some basic CRUD methods for it, so let&#8217;s set it up. For this you will need a copy of Visual Studio Professional, or Express 2013 for Windows Desktop. That&#8217;s what I&#8217;ll use for this demo.</p>

<h3>1. Create the Project</h3>

<p>Select File -> New Project</p>

<p>Choose &#8220;Console Application&#8221;</p>

<p><img class="center" src="https://www.jeremymorgan.com/images/how-to-self-host-asp-web-api-1.jpg" title="How to build self hosted Web API in ASP.Net&#34;" alt="How to build self hosted Web API in ASP.Net&#34;"></p>

<p>Right click on your project and select &#8220;Manage NuGet Packages&#8221;</p>

<p>Search the Online Packages for &#8220;Microsoft ASP.Net Web API Self Host&#8221; and install the assemblies.</p>

<h3>2. Set up the executable</h3>

<p>Next we&#8217;ll want to add configuration data, so in Program.cs add the following using statements:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="n">using</span> <span class="n">System</span><span class="p">.</span><span class="n">Web</span><span class="p">.</span><span class="n">Http</span><span class="p">;</span>
</span><span class='line'><span class="n">using</span> <span class="n">System</span><span class="p">.</span><span class="n">Web</span><span class="p">.</span><span class="n">Http</span><span class="p">.</span><span class="n">SelfHost</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<p>And then inside in the static void Main() function add:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="n">var</span> <span class="n">config</span> <span class="o">=</span> <span class="n">new</span> <span class="n">HttpSelfHostConfiguration</span><span class="p">(</span><span class="s">&quot;http://localhost:31337&quot;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>Note that the port can be anything you want it to be.</p>

<p>Now create an instance of the HttpSelfHostServer passing in your config object as the parameter:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="n">var</span> <span class="n">server</span> <span class="o">=</span> <span class="n">new</span> <span class="n">HttpSelfHostServer</span><span class="p">(</span><span class="n">config</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>Now create a task that calls the OpenAsync method and set the task to Wait:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="n">var</span> <span class="n">task</span> <span class="o">=</span> <span class="n">server</span><span class="p">.</span><span class="n">OpenAsync</span><span class="p">();</span>
</span><span class='line'><span class="n">task</span><span class="p">.</span><span class="n">Wait</span><span class="p">();</span>
</span></code></pre></td></tr></table></div></figure>


<p>Next, we&#8217;ll want to output something to console to let you know it&#8217;s started, and put a Console.ReadLine in there to make sure it stays open until you want it to quit.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;Server Up&quot;</span><span class="p">);</span>
</span><span class='line'><span class="n">Console</span><span class="p">.</span><span class="n">ReadLine</span><span class="p">();</span>
</span></code></pre></td></tr></table></div></figure>


<blockquote><p><strong>Note:</strong> At this time you can have a running service, but you must be running Visual Studio as an administrator. Now, if you&#8217;re in a restricted environment like I was you can&#8217;t do that, so you just have to code it with blind faith that it will work. You can run the finished product once it&#8217;s done, but if you are allowed to run as admin you can debug and test better.</p></blockquote>

<h3>3. Set up routing</h3>

<p>Ok, so much of this doesn&#8217;t do you a lot of good until you can route your requests.</p>

<p>Open up the package manager again (<em>Right click on your project and select &#8220;Manage NuGet Packages&#8221;</em>)
and search for &#8221;<strong>Attribute Routing Self-Hosted</strong>&#8221;. Install the AttributeRouting(Self-Hosted Web API) package.</p>

<p>Now, open up Program.cs and add the following:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="n">config</span><span class="p">.</span><span class="n">Routes</span><span class="p">.</span><span class="n">MapHttpRoute</span><span class="p">(</span><span class="s">&quot;Default&quot;</span><span class="p">,</span> <span class="s">&quot;api/{controller}/{id}&quot;</span><span class="p">,</span> <span class="n">new</span> <span class="p">{</span> <span class="n">id</span> <span class="o">=</span> <span class="n">RouteParameter</span><span class="p">.</span><span class="n">Optional</span> <span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>


<p>This will handle the routing for your application.</p>

<h3>4. Create a Model</h3>

<p>In this tutorial we&#8217;re going to create a storage space for some books. Create a class that looks like this:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'>    <span class="n">public</span> <span class="n">class</span> <span class="n">Book</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="n">public</span> <span class="kt">int</span> <span class="n">Id</span> <span class="p">{</span> <span class="n">get</span><span class="p">;</span> <span class="n">set</span><span class="p">;</span> <span class="p">}</span>
</span><span class='line'>        <span class="n">public</span> <span class="n">string</span> <span class="n">Title</span> <span class="p">{</span> <span class="n">get</span><span class="p">;</span> <span class="n">set</span><span class="p">;</span> <span class="p">}</span>
</span><span class='line'>        <span class="n">public</span> <span class="n">string</span> <span class="n">Author</span> <span class="p">{</span> <span class="n">get</span><span class="p">;</span> <span class="n">set</span><span class="p">;</span> <span class="p">}</span>
</span><span class='line'>        <span class="n">public</span> <span class="n">decimal</span> <span class="n">Price</span> <span class="p">{</span> <span class="n">get</span><span class="p">;</span> <span class="n">set</span><span class="p">;</span> <span class="p">}</span>
</span><span class='line'>    <span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>This will obviously store some simple attributes for our books.</p>

<h3>5. Create a Controller</h3>

<p>Let&#8217;s create a class called BookController that extends the ApiController:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="n">public</span> <span class="n">class</span> <span class="n">BookController</span> <span class="o">:</span> <span class="n">ApiController</span>
</span></code></pre></td></tr></table></div></figure>


<p>In that class we&#8217;ll want to create a few demo books every time it starts. We do this by creating a List of type book, and adding a few instances into it to start out:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="k">static</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">Book</span><span class="o">&gt;</span> <span class="n">ourbooks</span> <span class="o">=</span> <span class="n">InitBooks</span><span class="p">();</span>
</span><span class='line'>
</span><span class='line'><span class="n">private</span> <span class="k">static</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">Book</span><span class="o">&gt;</span> <span class="n">InitBooks</span><span class="p">()</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">var</span> <span class="n">booklist</span> <span class="o">=</span> <span class="n">new</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">Book</span><span class="o">&gt;</span><span class="p">();</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">booklist</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">new</span> <span class="n">Book</span> <span class="p">{</span> <span class="n">Id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">Title</span> <span class="o">=</span> <span class="s">&quot;Microsoft Visual C# 2012&quot;</span><span class="p">,</span> <span class="n">Author</span> <span class="o">=</span> <span class="s">&quot;John Sharp&quot;</span><span class="p">,</span> <span class="n">Price</span> <span class="o">=</span> <span class="mf">29.99</span><span class="n">M</span> <span class="p">});</span>
</span><span class='line'>    <span class="n">booklist</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">new</span> <span class="n">Book</span> <span class="p">{</span> <span class="n">Id</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">Title</span> <span class="o">=</span> <span class="s">&quot;C# 5.0 in a nutshell&quot;</span><span class="p">,</span> <span class="n">Author</span> <span class="o">=</span> <span class="s">&quot;Joseph Albahari&quot;</span><span class="p">,</span> <span class="n">Price</span> <span class="o">=</span> <span class="mf">19.99</span><span class="n">M</span> <span class="p">});</span>
</span><span class='line'>    <span class="n">booklist</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">new</span> <span class="n">Book</span> <span class="p">{</span> <span class="n">Id</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="n">Title</span> <span class="o">=</span> <span class="s">&quot;C# in Depth, 3rd Edition&quot;</span><span class="p">,</span> <span class="n">Author</span> <span class="o">=</span> <span class="s">&quot;Jon Skeet&quot;</span><span class="p">,</span> <span class="n">Price</span> <span class="o">=</span> <span class="mf">29.99</span><span class="n">M</span> <span class="p">});</span>
</span><span class='line'>    <span class="n">booklist</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">new</span> <span class="n">Book</span> <span class="p">{</span> <span class="n">Id</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="n">Title</span> <span class="o">=</span> <span class="s">&quot;Pro ASP.NET MVC 5&quot;</span><span class="p">,</span> <span class="n">Author</span> <span class="o">=</span> <span class="s">&quot;Adam Freeman&quot;</span><span class="p">,</span> <span class="n">Price</span> <span class="o">=</span> <span class="mf">34.01</span><span class="n">M</span> <span class="p">});</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">return</span> <span class="n">booklist</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Next, we&#8217;ll want to create a method to retrieve all books:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'>  <span class="n">public</span> <span class="n">IEnumerable</span><span class="o">&lt;</span><span class="n">Book</span><span class="o">&gt;</span> <span class="n">Get</span><span class="p">()</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="k">return</span> <span class="n">ourbooks</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>This will return all the books in our list. Let&#8217;s open up fiddler and see what that looks like:</p>

<p><img class="center" src="https://www.jeremymorgan.com/images/how-to-self-host-asp-web-api-2.png" title="How to build self hosted Web API in ASP.Net&#34;" alt="How to build self hosted Web API in ASP.Net&#34;"></p>

<p>So as you can see, a list of our items is returned with a GET request. This may be all you need, but if you need REST services, continue on.</p>

<h3>6. Setting up REST actions</h3>

<p>in our BookController, you&#8217;ll want to add a few more methods to add update and delete items.</p>

<h5>Retrieve a book by ID (GET)</h5>

<p>Let&#8217;s make it so we can select a book by it&#8217;s Id. Add a method to the controller that looks like this:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'>  <span class="n">public</span> <span class="n">Book</span> <span class="nf">Get</span><span class="p">(</span><span class="kt">int</span> <span class="n">Id</span><span class="p">)</span>
</span><span class='line'>        <span class="p">{</span>
</span><span class='line'>
</span><span class='line'>            <span class="n">var</span> <span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="n">from</span> <span class="n">b</span> <span class="n">in</span> <span class="n">ourbooks</span>
</span><span class='line'>                          <span class="n">where</span> <span class="n">b</span><span class="p">.</span><span class="n">Id</span> <span class="o">==</span> <span class="n">Id</span>
</span><span class='line'>                          <span class="n">select</span> <span class="n">b</span><span class="p">).</span><span class="n">FirstOrDefault</span><span class="p">();</span>
</span><span class='line'>
</span><span class='line'>            <span class="k">if</span> <span class="p">(</span><span class="n">result</span> <span class="o">==</span> <span class="n">null</span><span class="p">)</span>
</span><span class='line'>            <span class="p">{</span>
</span><span class='line'>                <span class="n">var</span> <span class="n">resp</span> <span class="o">=</span> <span class="n">new</span> <span class="n">HttpResponseMessage</span><span class="p">(</span><span class="n">HttpStatusCode</span><span class="p">.</span><span class="n">NotFound</span><span class="p">)</span>
</span><span class='line'>                <span class="p">{</span>
</span><span class='line'>                    <span class="n">Content</span> <span class="o">=</span> <span class="n">new</span> <span class="n">StringContent</span><span class="p">(</span><span class="n">string</span><span class="p">.</span><span class="n">Format</span><span class="p">(</span><span class="s">&quot;No book with ID = {0}&quot;</span><span class="p">,</span> <span class="n">Id</span><span class="p">)),</span>
</span><span class='line'>                    <span class="n">ReasonPhrase</span> <span class="o">=</span> <span class="s">&quot;Book ID Not Found&quot;</span>
</span><span class='line'>                <span class="p">};</span>
</span><span class='line'>                <span class="n">throw</span> <span class="n">new</span> <span class="n">HttpResponseException</span><span class="p">(</span><span class="n">resp</span><span class="p">);</span>
</span><span class='line'>            <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>            <span class="k">return</span> <span class="n">result</span><span class="p">;</span>
</span><span class='line'>        <span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>This overrides the Get method, so if you pass it an Id, it will return some details for that book. As you can see if it does not find an ID it returns a 404 error, with a custom response.</p>

<h4>Add a new book (POST)</h4>

<p>To add a new book, we want to create a method that takes a POST command, and gets the JSON object from the body of the request. To that, add the following method:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="n">public</span> <span class="kt">void</span> <span class="nf">Post</span><span class="p">([</span><span class="n">FromBody</span><span class="p">]</span><span class="n">Book</span> <span class="n">b</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="n">b</span><span class="p">.</span><span class="n">Id</span> <span class="o">=</span> <span class="n">ourbooks</span><span class="p">.</span><span class="n">Count</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
</span><span class='line'>  <span class="n">ourbooks</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">b</span><span class="p">);</span>
</span><span class='line'>    <span class="n">var</span> <span class="n">resp</span> <span class="o">=</span> <span class="n">new</span> <span class="n">HttpResponseMessage</span><span class="p">(</span><span class="n">HttpStatusCode</span><span class="p">.</span><span class="n">Created</span><span class="p">);</span>
</span><span class='line'>    <span class="n">throw</span> <span class="n">new</span> <span class="n">HttpResponseException</span><span class="p">(</span><span class="n">resp</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>In order to add a new item to our list, we&#8217;ll need to change the request in Fiddler to a POST, and set the Content-Type:</p>

<blockquote><p>Content-Type: application/json</p></blockquote>

<p>And we&#8217;ll need to send it a JSON object, like this:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="p">{</span><span class="s">&quot;Id&quot;</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s">&quot;Title&quot;</span><span class="o">:</span><span class="s">&quot;One More Book!&quot;</span><span class="p">,</span><span class="s">&quot;Author&quot;</span><span class="o">:</span><span class="s">&quot;Jeremy Morgan&quot;</span><span class="p">,</span><span class="s">&quot;Price&quot;</span><span class="o">:</span><span class="mf">1.99</span><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Your composer should look like this:</p>

<p><img class="center" src="https://www.jeremymorgan.com/images/how-to-self-host-asp-web-api-3.png" title="How to build self hosted Web API in ASP.Net&#34;" alt="How to build self hosted Web API in ASP.Net&#34;"></p>

<p>Once you submit, run another GET request, and you&#8217;ll see the new object:</p>

<p><img class="center" src="https://www.jeremymorgan.com/images/how-to-self-host-asp-web-api-4.png" title="How to build self hosted Web API in ASP.Net&#34;" alt="How to build self hosted Web API in ASP.Net&#34;"></p>

<p>It&#8217;s that easy! The next are even easier.</p>

<h4>Update a book (PUT)</h4>

<p>In this method we&#8217;re going to update a book using the PUT command.</p>

<p>Add the following method to your controller:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="n">public</span> <span class="kt">void</span> <span class="nf">Put</span><span class="p">(</span><span class="kt">int</span> <span class="n">Id</span><span class="p">,</span> <span class="p">[</span><span class="n">FromBody</span><span class="p">]</span><span class="n">Book</span> <span class="n">book</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">var</span> <span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="n">from</span> <span class="n">b</span> <span class="n">in</span> <span class="n">ourbooks</span>
</span><span class='line'>                    <span class="n">where</span> <span class="n">b</span><span class="p">.</span><span class="n">Id</span> <span class="o">==</span> <span class="n">Id</span>
</span><span class='line'>                    <span class="n">select</span> <span class="n">b</span><span class="p">).</span><span class="n">FirstOrDefault</span><span class="p">();</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">result</span><span class="p">.</span><span class="n">Title</span> <span class="o">=</span> <span class="n">book</span><span class="p">.</span><span class="n">Title</span><span class="p">;</span>
</span><span class='line'>    <span class="n">result</span><span class="p">.</span><span class="n">Author</span> <span class="o">=</span> <span class="n">book</span><span class="p">.</span><span class="n">Author</span><span class="p">;</span>
</span><span class='line'>    <span class="n">result</span><span class="p">.</span><span class="n">Price</span> <span class="o">=</span> <span class="n">book</span><span class="p">.</span><span class="n">Price</span><span class="p">;</span>
</span><span class='line'>    <span class="n">var</span> <span class="n">resp</span> <span class="o">=</span> <span class="n">new</span> <span class="n">HttpResponseMessage</span><span class="p">(</span><span class="n">HttpStatusCode</span><span class="p">.</span><span class="n">Accepted</span><span class="p">);</span>
</span><span class='line'>    <span class="n">throw</span> <span class="n">new</span> <span class="n">HttpResponseException</span><span class="p">(</span><span class="n">resp</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Now, if you run a GET in Fiddler, you should see a set of results as they are set by default:</p>

<p><img class="center" src="https://www.jeremymorgan.com/images/how-to-self-host-asp-web-api-5.png" title="How to build self hosted Web API in ASP.Net&#34;" alt="How to build self hosted Web API in ASP.Net&#34;"></p>

<p>Since it&#8217;s a new instance the one we added will not be there.</p>

<p>In Fiddler (or whatever program you&#8217;re using) change the request to a PUT, and add an ID at the end (for the record you want to change). Then set the Content-Type to application/json and send the JSON string we used earlier. It should look like this:</p>

<p><img class="center" src="https://www.jeremymorgan.com/images/how-to-self-host-asp-web-api-6.png" title="How to build self hosted Web API in ASP.Net&#34;" alt="How to build self hosted Web API in ASP.Net&#34;"></p>

<p>Once you send the put request, now send a GET and you&#8217;ll see the updated information:</p>

<p><img class="center" src="https://www.jeremymorgan.com/images/how-to-self-host-asp-web-api-7.png" title="How to build self hosted Web API in ASP.Net&#34;" alt="How to build self hosted Web API in ASP.Net&#34;"></p>

<h4>Remove a book (DELETE)</h4>

<p>This one is really easy:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="n">public</span> <span class="kt">void</span> <span class="nf">Delete</span><span class="p">(</span><span class="kt">int</span> <span class="n">Id</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">var</span> <span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="n">from</span> <span class="n">b</span> <span class="n">in</span> <span class="n">ourbooks</span>
</span><span class='line'>                    <span class="n">where</span> <span class="n">b</span><span class="p">.</span><span class="n">Id</span> <span class="o">==</span> <span class="n">Id</span>
</span><span class='line'>                    <span class="n">select</span> <span class="n">b</span><span class="p">).</span><span class="n">FirstOrDefault</span><span class="p">();</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">ourbooks</span><span class="p">.</span><span class="n">Remove</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
</span><span class='line'>    <span class="n">var</span> <span class="n">resp</span> <span class="o">=</span> <span class="n">new</span> <span class="n">HttpResponseMessage</span><span class="p">(</span><span class="n">HttpStatusCode</span><span class="p">.</span><span class="n">OK</span><span class="p">);</span>
</span><span class='line'>    <span class="n">throw</span> <span class="n">new</span> <span class="n">HttpResponseException</span><span class="p">(</span><span class="n">resp</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Now, just set fiddler to delete an id and send it:</p>

<p><img class="center" src="https://www.jeremymorgan.com/images/how-to-self-host-asp-web-api-8.png" title="How to build self hosted Web API in ASP.Net&#34;" alt="How to build self hosted Web API in ASP.Net&#34;"></p>

<p>And it&#8217;s deleted!</p>

<h3>7. Build and use it!</h3>

<p>So now that your application is ready, you can build and executable and use it for development.</p>

<p>Just build it, then look in your /bin/release folder and run it from there!</p>

<p><img class="center" src="https://www.jeremymorgan.com/images/how-to-self-host-asp-web-api-9.jpg" title="How to build self hosted Web API in ASP.Net&#34;" alt="How to build self hosted Web API in ASP.Net&#34;"></p>

<p>Whenever it&#8217;s running you can connect to it like a standard web service.</p>

<h3>So what&#8217;s the point of all this?</h3>

<p>After reading this it might seem like a lot of work, but after you&#8217;ve done it a few times it&#8217;s really quick to whip it up. You might be asking, what&#8217;s the point?</p>

<p>The best use of this is to test the functionality of your application on a sample set of data. You can use this with a plain HTML/JavaScript page, asp page, or even another application. It&#8217;s a good way to test and develop your apps without using live data, or even accessing a live database.</p>

<p>Since you control what data is seeded in, you can write better unit tests for it knowing exactly what to expect. Since it&#8217;s only stored in memory, it&#8217;s really fast and resets as soon as you restart the executable. This can drastically speed up the development time and create better test cases.</p>

<p>Let me know if you use this, the <a href="https://github.com/JeremyMorgan/ASP-Self-Hosted-API" target="_new">code is on GitHub</a> feel free to fork it and expand on it!</p>

<br />


<div class="subscribefooter">
<h4>Do you like articles like this?</h4>
<div class="rssbutton"></div>
I&#8217;m constantly hacking on stuff and writing about happenings in the programmer world. You can <a href="http://feeds.feedburner.com/jeremymorgan/NJwt"><strong>subscribe to my feed</strong></a> here, or you can <a href="http://www.feedblitz.com/f?sub=339769"><strong>get the programmer newsletter</strong></a> 100% spam free!
</div>

</div>

<footer>
    <p class="meta">
      
  

<span class="byline author vcard">Author: <a href="/about/" rel="author"><span class="fn">Jeremy Morgan</span></a></span>


      








  


<time datetime="2014-05-13T20:20:00-07:00" pubdate data-updated="true">May 13<span>th</span>, 2014</time>
      

<span class="categories">
  
    <a class='category' href='/blog/dotnet/'>DotNet</a>, <a class='category' href='/blog/programming/'>Programming</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left articlenav" href="/blog/programming/properties-vs-fields/" title="Previous Post: Properties vs Fields in C#">&laquo; Properties vs Fields in C#</a>
      
      
        <a class="basic-alignment right articlenav" href="/blog/programming/the-book-every-php-dev-should-read/" title="Next Post: The Book Every PHP Developer Should Read">The Book Every PHP Developer Should Read &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
	<h2>About Jeremy Morgan</h2>
	<div class="aboutmeimage">&nbsp;</div>
	<p>I'm just a Hacker / Developer writing about Tech, Development, Programming, and SEO. <br /><br />I'm passionate about tech, and as long as I'm building cool stuff and helping people, I'll never work a day in my life.</p>
<ul>
<li><a href="https://twitter.com/JeremyCMorgan" rel="nofollow"><div class="twittericon">Connect With Me on Twitter</div></a></li>
<li><a href="https://plus.google.com/+JeremyMorgan?rel=author"><div class="gplusicon">Connect With Me on Google+</div></a></li>
<li><a href="https://facebook.com/JeremyMorganDotCom" rel="nofollow"><div class="facebookicon">Connect With Me on FaceBook</div></a></li>
<li><a href="https://github.com/jeremymorgan" rel="nofollow"><div class="githubicon">Connect With Me on GitHub</div></a></span></li>
</ul>
</section>
<section> 
<br />
<h2>Categories</h2>
<ul>
<li><a href="/tutorials/">Tutorials</a></li>
<li><a href="/blog/raspberry-pi/">Raspberry Pi</a></li>
<li><a href="/blog/programming/">Programming</a></li>
<li><a href="/blog/seo/">Search Engine Optimization</a></li>
<li><a href="/blog/general/">General</a></li>
</ul>
</section><section>
 <br />
  <h2>Recent Articles</h2>
  <ul id="recent_posts">
	
	  <li class="post">
		<a href="/blog/programming/intro-restful-web-services/">Brief Introduction to REST</a>
	  </li>
	
	  <li class="post">
		<a href="/blog/programming/how-to-asp-5-linux/">How to install ASP.Net 5 on Ubuntu Linux</a>
	  </li>
	
	  <li class="post">
		<a href="/blog/seo/open-graph-tags-for-seo/">Open Graph Tags Are Terribly Important</a>
	  </li>
	
	  <li class="post">
		<a href="/tutorials/raspberry-pi/how-to-blink-led-raspberry-pi-2/">How to Blink an LED on a Raspberry Pi 2</a>
	  </li>
	
	  <li class="post">
		<a href="/tutorials/raspberry-pi/raspberry-pi-2-has-arrived/">Raspberry Pi 2 has arrived!</a>
	  </li>
	
	  <li class="post">
		<a href="/blog/programming/2015-tech-predictions/">Developer Predictions for 2015</a>
	  </li>
	
	  <li class="post">
		<a href="/tutorials/vnext/how-to-build-c-sharp-on-mac-osx/">Building C#/ASP.NET apps on a Mac with vNext</a>
	  </li>
	
  </ul>
</section>
<section> 
<br />
<br />
<div align="center" style="margin-left: auto; margin-right: auto;">
<p><strong>This site is powered by Arvixe Hosting</strong></p>
<a href="https://affiliates.arvixe.com/track.php?id=5348&tid1=homepage" target="_blank" rel="nofollow"><img border="0" src="https://www.jeremymorgan.com/images/dotnethosting.gif" width="125" height="125" alt="Cheap ASP Hosting"></a>
<br /><strong>Full featured ASP.Net hosting<br /> for only 4$ a month. <br /><br /><a href="https://affiliates.arvixe.com/track.php?id=5348&amp;tid1=homepage" target="_blank" rel="nofollow">Sign up today!</strong></a></div><br />
</section><section>
<br />
<br />
<h2>My Hosted Applications</h2>
<ul>
	<li><a href="/apps/oregon-deq-boundary/">Oregon DEQ Boundaries</a></li>
	<li><a href="/apps/findjennifer/">Find Jennifer Huston</a></li>
	<li><a href="/apps/36-pit-fire-realtime/">36 Pit Fire Realtime</a></li>
	<li><a href="/apps/deception-complex-fire/">Deception Complex Realtime</a></li>	
	<li><a href="/apps/rowena-fire-realtime/">Rowena Fire Realtime</a></li>
	<li><a href="/apps/bryant-fire-realtime/">Bryant Fire Realtime</a></li>
	<li><a href="/apps/owens-fire-realtime/">Owens Fire Realtime</a></li>
	<li><a href="/apps/shaniko-butte-realtime/">Shaniko Butte Realtime</a></li>
	<li><a href="/apps/two-bulls-realtime/">Two Bulls Realtime</a></li>
	<li><a href="/seo-tools/blog-ping/">Blog Pinger</a></li>
	<li><a href="/seo-tools/server-header-checker/">Server Header Checker</a></li>
	<li><a href="/portland-tech-meetups/">Portland Tech Meetups</a></li>
	<li><a href="/apps/firecom/feed.php">FireCom</a></li>
</ul>
<br />
<br /> 
<h1 style="text-align:center; margin: auto;">$5 Linux Hosting</h1>
<a href="https://www.digitalocean.com/?refcode=ca6f81fa42b4"><img src="/images/linux.jpg" /></a>
<h1 style="text-align:center; margin: auto;"><a href="https://www.digitalocean.com/?refcode=ca6f81fa42b4">Click Here For Info</a></h1>

<br />
<br />
<br />
<h2>Friends</h2>
<ul>
	<li><a href="http://imageevent.com/irishglyn">Irish Glyn Rat Terriers</a></li>
	<li><a href="http://cykovisuals.com">Cyko Visuals</a></li>
	<li><a href="http://dannynunez.com/">Danny Nunez</a></li>
	<li><a href="http://steven-senkus.com/">Steven Senkus</a></li>
	<li><a href="http://compositecode.com">Composite Code</a></li>
	<li><a href="http://vichargrave.com/">Vic Hargrave</a></li>
	<li><a href="http://notla.com">Brad Carter</a></li>
	<li><a href="http://scottbones.com">Scott Bones</a></li>
	<li><a href="http://thomashubbard.net">Thomas Hubbard</a></li>
	<li><a href="http://theservicedeptrepair.com">Wilsonville Computer Repair</a></li>
	<li><a href="http://vichargrave.com/">Vic Hargrave</a></li>
	<li><a href="https://dotnetkicks.com/">Dot Net Kicks</a></li>	
</ul>
<br />
<br />
</section>  <section>
  <br />
  <h2>My RSS Feeds</h2>
  <ul>
  <li><a href="http://feeds.feedburner.com/JeremyMorganTutorials" rel="alternate" rel="nofollow" type="application/rss+xml"><div class="feedsharkicon">Tutorials Feed</div></a></li>
  <li><a href="http://feeds.feedburner.com/JeremyMorganRaspberryPi" rel="alternate" rel="nofollow" type="application/rss+xml"><div class="feedsharkicon">Raspberry Pi Feed</div></a></li>
  <li><a href="http://feeds.feedburner.com/JeremyMorganProgramming" rel="alternate" rel="nofollow" type="application/rss+xml"><div class="feedsharkicon">Programming Article Feed</div></a></li>  
  <li><a href="http://feeds.feedburner.com/JeremyMorganSEO" rel="alternate" rel="nofollow" type="application/rss+xml"><div class="feedsharkicon">SEO Article Feed</div></a></li>  
  <li><a href="http://feeds.feedburner.com/jeremymorgan/NJwt" rel="alternate" rel="nofollow" type="application/rss+xml"><div class="feedsharkicon">All Feeds</div></a></li>
  </ul>
  </section>
<div class="g-plusone" data-annotation="inline" data-width="245"></div>


<section>
<br />
<br />
<br />
<br />
	<script type="text/javascript"><!--
	google_ad_client = "ca-pub-8244625199628957";
	/* JM Sidebar */
	google_ad_slot = "5211972753";
	google_ad_width = 160;
	google_ad_height = 600;
	//-->
	</script>
	<script type="text/javascript"
	src="https://pagead2.googlesyndication.com/pagead/show_ads.js">
	</script>
</section>
  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><div class="footerstuff"><p>Copyright &copy; 2015 - Jeremy Morgan -<span class="credit">Proudly Powered by <a href="http://octopress.org">Octopress</a> with <a href="http://blog.jphpsf.com/2012/06/12/squeezing-octopress-for-faster-load-times">optimizations from JP</a></span></p>
<p>This website dedicated to the memory of <a href="/blog/general/a-dent-in-the-universe/">Russell Peckham</a> and <a href="https://www.jeremymorgan.com/greg-peckham/">Greg Peckham</a>. Without them this site would not exist.</p>
Running Fast ASP.Net 4.5 hosting by <a href="http://www.arvixe.com/5348.html" rel="nofollow">Arvixe</a>.
</div>
<!-- Place this tag in your head or just before your close body tag. -->
<script src="https://apis.google.com/js/platform.js" async defer></script>
</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'jeremymorgandotcom';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'https://www.jeremymorgan.com/blog/programming/how-to-create-asp-self-hosted-api/';
        var disqus_url = 'https://www.jeremymorgan.com/blog/programming/how-to-create-asp-self-hosted-api/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'https://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>




<script type="text/javascript">
(function() {
  var all = document.createElement('script'); all.type = 'text/javascript'; all.async = true;
  all.src = 'https://jeremymorgan.com/scripts/allscripts.js';
  s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(all, s);
})();
</script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-2937467-1', 'auto');
  ga('send', 'pageview');

</script>



</body>
</html>
