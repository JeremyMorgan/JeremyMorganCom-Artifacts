
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head><meta charset="utf-8" /><title>Make a Weather Station with a Raspberry Pi 2 - Raspberry Pi Blog </title><meta name="twitter:card" content="summary">
<meta property="og:title" content="Make a Weather Station with a Raspberry Pi 2" /><meta itemprop="name" content="Make a Weather Station with a Raspberry Pi 2" /><meta name="twitter:title" content="Make a Weather Station with a Raspberry Pi 2">
<meta name="author" content="Jeremy Morgan" />
<meta property="article:author" content="https://plus.google.com/+JeremyMorgan" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2015-09-17 22:50:00 +0000" />

<meta property="article:section" content="Raspberry PiTutorials" />

<meta name="description" content="Today I'm going to show you how to make sort of a mini weather station with a Raspberry Pi. This is an ongoing project of mine that I've been &hellip;" />
<meta property="og:description" content="Today I'm going to show you how to make sort of a mini weather station with a Raspberry Pi. This is an ongoing project of mine that I've been &hellip;" />
<meta itemprop="description" content="Today I'm going to show you how to make sort of a mini weather station with a Raspberry Pi. This is an ongoing project of mine that I've been &hellip;" />
<meta name="twitter:description" content="Today I'm going to show you how to make sort of a mini weather station with a Raspberry Pi. This is an ongoing project of mine that I've been &hellip;">

<meta property="og:image" content="https://www.jeremymorgan.com/images/raspberry-pi-2-weather-station/raspberry-pi-weather-station-og.jpg" /><meta itemprop="image" content="https://www.jeremymorgan.com/images/raspberry-pi-2-weather-station/raspberry-pi-weather-station-og.jpg" /><meta name="twitter:image" content="https://www.jeremymorgan.com/images/raspberry-pi-2-weather-station/raspberry-pi-weather-station-og.jpg"><meta property="og:site_name" content="JeremyMorgan.com" />
 <!-- https://t.co/dKP3o1e -->
<meta name="twitter:url" content="https://www.jeremymorgan.com/tutorials/raspberry-pi/how-to-weather-station-raspberry-pi/">
<meta property="og:url" content="https://www.jeremymorgan.com/tutorials/raspberry-pi/how-to-weather-station-raspberry-pi/" />
<link rel="canonical" href="https://www.jeremymorgan.com/tutorials/raspberry-pi/how-to-weather-station-raspberry-pi/" />
<link href="/favicon.png" rel="icon" />
<meta name="twitter:site" content="@JeremyCMorgan">
<meta name="twitter:creator" content="@JeremyCMorgan">
<meta name="HandheldFriendly" content="True" />
<meta name="MobileOptimized" content="320" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="https://www.jeremymorgan.com/css/screen.css" media="screen, projection" rel="stylesheet" type="text/css" />
<link href="http://feeds.feedburner.com/jeremymorgan/NJwt" rel="alternate" title="Jeremy's Programming Blog" type="application/atom+xml" />
<meta property="fb:app_id" content="198803199072" />
<meta property="fb:page_id" content="153875204649532" />
</head>
<body   >
  <header role="banner"><hgroup><div><img src="/images/programming-blog.png" alt="Programming Blog"><div class="clear"></div></div><h1><a href="/">Jeremy Morgan</a></h1><h2>Mostly Coherent Ramblings of a Silicon Forest Software Developer</h2><div class="clear"></div></hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="http://feeds.feedburner.com/jeremymorgan/NJwt" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:www.jeremymorgan.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation"><li><a href="/">Home</a></li><li><a href="/tutorials/">Tutorials</a></li><li><a href="/blog/programming/">Programming</a></li><li><a href="/blog/raspberry-pi/">Raspberry Pi</a></li><li><a href="/blog/linux/">Linux</a></li><li><a href="/blog/dotnet/">.Net</a></li><li><a href="https://github.com/JeremyMorgan">My Projects</a></li><li><a href="/contact/">Contact Me</a></li></ul>
</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  <header>
    
    
        <h1 class="entry-title">Make a Weather Station With a Raspberry Pi 2</h1>
    <p>Author: <em>Jeremy Morgan</em></p>
  
    
    
      <p class="meta">
        








  



  
<time datetime="2015-09-17T22:50:00+00:00" pubdate data-updated="true">Sep 17<span>th</span>, 2015</time>
        
      </p>
    
  </header>



<div class="entry-content"><br />


<p><a href="https://eepurl.com/bMxQr5"><img src="/images/banners/raspberry-pi-newsletter-650.jpg" alt="Raspberry Pi Newsletter" /></a></p>

<br />


<p>Today I&#8217;m going to show you how to make sort of a mini weather station with a Raspberry Pi. This is an ongoing project of mine that I&#8217;ve been tinkering with so I&#8217;ll share my learnings with you. It started with <a href="/tutorials/raspberry-pi/monitor-room-temperature-raspberry-pi/">a project I wrote about last month</a>, and is an improvement on it.</p>

<!-- more -->


<p><img src="/images/raspberry-pi-2-weather-station/raspberry-pi-weather-station-00.jpg" title="How to build a Weather Station Raspberry Pi 2" alt="How to build a Weather Station Raspberry Pi 2" /></p>

<iframe src="https://ghbtns.com/github-btn.html?user=JeremyMorgan&repo=Raspberry_Pi_Weather_Station&type=star&count=true&size=large" frameborder="0" scrolling="0" width="160px" height="30px"></iframe>


<p>A core part of the &#8220;Internet of Things&#8221; movement is the idea of devices that gather data and send it to the Internet. That data is then acted on or observed for later. It&#8217;s a simple concept and has been going on for a while but lately it&#8217;s been getting cheaper and easier to do. This project is a great example of that.</p>

<p>While this seems like a long tutorial, it only takes about 30 minutes to complete. Let&#8217;s get started.</p>

<p>Once you complete this your Raspberry Pi will measure:</p>

<ul>
<li>Temperature</li>
<li>Humidity</li>
<li>Atmospheric Pressure</li>
<li>Lux</li>
</ul>


<p>You can send your results to:</p>

<ul>
<li>Google Spreadsheet on your Google Drive</li>
<li>ASP.Net Web API on your website</li>
</ul>


<h3>What you&#8217;ll need</h3>

<p>For this project you will need:</p>

<ul>
<li>Raspberry Pi 2 or Model B - (<a href="http://www.element14.com/community/community/raspberry-pi/raspberrypi2"><strong>Get one here for $35!</strong></a>)</li>
<li><a href="http://www.adafruit.com/products/393"><strong>AM2302</strong></a> Temperature / Humidity Sensor</li>
<li><a href="http://www.adafruit.com/products/1603"><strong>BMP180</strong></a> Temperature / Barometric Pressure Sensor</li>
<li><a href="http://www.adafruit.com/products/374"><strong>DS18B20</strong></a> Waterproof Temperature Sensor</li>
<li><a href="http://www.adafruit.com/products/439"><strong>TSL2561</strong></a> Digital Lumosity Sensor</li>
</ul>


<p>Optional:</p>

<ul>
<li>Breadboard and jumpers (<a href="http://www.element14.com/community/search.jspa?q=breadboard"><strong>Get a kit here</strong></a>)</li>
</ul>


<p>None of this stuff would be anywhere near as easy if it weren&#8217;t for companies like <a href="http://www.adafruit.com/">Adafruit</a>. I recommend getting your sensors from them to support their innovation in this space. <a href="http://www.element14.com">Newark</a> is one of the original distributors of the Raspberry Pi, they are fast and very reputable.</p>

<h2>Wiring</h2>

<p>The wiring for this project is shown below:</p>

<p><img src="/images/raspberry-pi-2-weather-station/raspberry-pi-weather-diagram.jpg" title="How to build a Weather Station Raspberry Pi 2" alt="How to build a Weather Station Raspberry Pi 2" /></p>

<p>While this may look confusing at first, it&#8217;s a pretty standard setup for each sensor. Here&#8217;s some additional information on how to wire up each one if the diagram isn&#8217;t helpful.</p>

<ul>
<li><a href="https://learn.adafruit.com/downloads/pdf/dht-humidity-sensing-on-raspberry-pi-with-gdocs-logging.pdf">How to wire up AM2302</a></li>
<li><a href="https://learn.adafruit.com/using-the-bmp085-with-raspberry-pi/overview">How to wire up BMP180</a></li>
<li><a href="https://learn.adafruit.com/adafruits-raspberry-pi-lesson-11-ds18b20-temperature-sensing/hardware">How to wire up DS18B20</a></li>
<li><a href="https://learn.adafruit.com/tsl2561/wiring">How to wire up TSL2561</a></li>
</ul>


<h2>Installing the software</h2>

<p>This tutorial has been tested with a fresh install of Raspian. The instructions should be fairly accurate for other Linux distributions as well.</p>

<p>SSH into the pi (or open a command window) and get&#8217;s start out in your home directory and make a folder for your sources.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>cd ~
</span><span class='line'>mkdir sources
</span><span class='line'>cd sources</span></code></pre></td></tr></table></div></figure>


<p>Now we can start installing sensors.</p>

<h3>Setup the AM2302</h3>

<p>The AM2302 is a temperature humidity sensor. It is a DHT22 sensor that&#8217;s wired with a pullup resistor and casing. I found it easier to use this one than just the DHT22 kit.</p>

<p>For this sensor we&#8217;ll be using the Adafruit Python DHT library:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>git clone https://github.com/adafruit/Adafruit_Python_DHT.git
</span><span class='line'>
</span><span class='line'>cd Adafruit_Python_DHT
</span><span class='line'>
</span><span class='line'>sudo apt-get update
</span><span class='line'>
</span><span class='line'>sudo apt-get install build-essential python-dev python-openssl
</span><span class='line'>
</span><span class='line'>sudo python setup.py install</span></code></pre></td></tr></table></div></figure>


<p>This will install the software necessary to interact with the AM2302</p>

<h3>Test the AM2302</h3>

<p>There is a test script you can use to verify the sensor is working. Run AdafruitDHT.py and &#8220;2302&#8221; is the sensor, and &#8220;22&#8221; is the pin you&#8217;re using. Change it if you hooked it to a different pin.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>cd examples
</span><span class='line'>sudo ./AdafruitDHT.py 2302 22</span></code></pre></td></tr></table></div></figure>


<p>You should see something that looks like this:</p>

<p><img src="/images/raspberry-pi-2-weather-station/raspberry-pi-weather-station-01.jpg" title="How to build a Weather Station Raspberry Pi 2" alt="How to build a Weather Station Raspberry Pi 2" /></p>

<h3>DSB18B20</h3>

<p>The DSB18B20 is a digital one wire (Dallas one wire protocol) thermometer. If you get it &#8220;with extras&#8221; it comes with a cord and waterproof casing which is what I went with.</p>

<p>You will need to add one wire Support. Open up your boot config:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo nano /boot/config.txt</span></code></pre></td></tr></table></div></figure>


<p>Add the following text to that file:
<code>
dtoverlay=w1-gpio
</code></p>

<p>Save the file and reboot:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo reboot</span></code></pre></td></tr></table></div></figure>


<h3>Testing the DSB18B20</h3>

<p>To test it you&#8217;ll need to load the following modules into your kernel:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo modprobe w1-gpio
</span><span class='line'>sudo modprobe w1-therm</span></code></pre></td></tr></table></div></figure>


<p>Note: you can do the following to add them to your kernel on boot:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo nano /etc/modules</span></code></pre></td></tr></table></div></figure>


<p>add the following lines:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>w1-gpio
</span><span class='line'>w1-therm</span></code></pre></td></tr></table></div></figure>


<p>Save the file and the next time you start they will be loaded automatically.</p>

<p>To check your device:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>cd /sys/bus/w1/devices
</span><span class='line'>ls -la </span></code></pre></td></tr></table></div></figure>


<p>You will see a folder starting with 28- this is your device based on the serial number.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>cd 28-xxxx (change this to match what serial number pops up)
</span><span class='line'>cat w1_slave</span></code></pre></td></tr></table></div></figure>


<p>You should see something like the following:</p>

<p><img src="/images/raspberry-pi-2-weather-station/raspberry-pi-weather-station-02.jpg" title="How to build a Weather Station Raspberry Pi 2" alt="How to build a Weather Station Raspberry Pi 2" /></p>

<p>If it says &#8220;YES&#8221; it&#8217;s working. If not, you may need to check your wiring.</p>

<h2>Configuring I2C</h2>

<p>Next you will need to configure I2C for your system:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo apt-get install python-smbus
</span><span class='line'>sudo apt-get install i2c-tools</span></code></pre></td></tr></table></div></figure>


<p>You may get &#8220;already installed&#8221; messages from this, depending on how your system is setup.</p>

<p>Add the modules to your kernel on startup. Open up /etc/modules</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo nano /etc/modules</span></code></pre></td></tr></table></div></figure>


<p>Add the following to it:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>i2c-bcm2708 
</span><span class='line'>i2c-dev</span></code></pre></td></tr></table></div></figure>


<p>Now you will need to modify your boot config:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo nano /boot/config.txt</span></code></pre></td></tr></table></div></figure>


<p>Add the following:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>dtparam=i2c1=on
</span><span class='line'>dtparam=i2c_arm=on</span></code></pre></td></tr></table></div></figure>


<p>Reboot your Pi:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo reboot</span></code></pre></td></tr></table></div></figure>


<h3>Testing I2C</h3>

<p>You can see what devices are connected to your I2C bus by running the following command:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo i2cdetect -y 1</span></code></pre></td></tr></table></div></figure>


<p>You should see something like this:</p>

<p><img src="/images/raspberry-pi-2-weather-station/raspberry-pi-weather-station-03.jpg" title="How to build a Weather Station Raspberry Pi 2" alt="How to build a Weather Station Raspberry Pi 2" /></p>

<p>You&#8217;re ready to go!</p>

<h3>TSL2561 Sensor</h3>

<p>The TSL2561 is a Lux Sensor, it measures the amount of light it detects, useful to see how bright the sky is that day.</p>

<p>Let&#8217;s grab some sources to help out with this:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>cd ~/sources 
</span><span class='line'>wget https://raw.githubusercontent.com/adafruit/Adafruit-Raspberry-Pi-Python-Code/master/Adafruit_I2C/Adafruit_I2C.py
</span><span class='line'>wget https://raw.githubusercontent.com/seanbechhofer/raspberrypi/master/python/TSL2561.py</span></code></pre></td></tr></table></div></figure>


<h3>Testing the TSL2561</h3>

<p>To test out your sensor run the following:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo python Adafruit_I2C.py
</span><span class='line'>sudo python TSL2561.py</span></code></pre></td></tr></table></div></figure>


<p>You should see something that looks like this:</p>

<p><img src="/images/raspberry-pi-2-weather-station/raspberry-pi-weather-station-04.jpg" title="How to build a Weather Station Raspberry Pi 2" alt="How to build a Weather Station Raspberry Pi 2" /></p>

<p>Its up!</p>

<h3>BMP180</h3>

<p>The BMP180 is a barometric pressure sensor with a thermometer. It&#8217;s also really easy to get working. Once again we&#8217;ll be using some Adafruit libraries:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>git clone https://github.com/adafruit/Adafruit_Python_BMP.git
</span><span class='line'>cd Adafruit_Python_BMP
</span><span class='line'>sudo python setup.py install</span></code></pre></td></tr></table></div></figure>


<h3>Testing the BMP180</h3>

<p>To test it:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>cd examples
</span><span class='line'>sudo python simpletest.py</span></code></pre></td></tr></table></div></figure>


<p>It should look like this:</p>

<p><img src="/images/raspberry-pi-2-weather-station/raspberry-pi-weather-station-05.jpg" title="How to build a Weather Station Raspberry Pi 2" alt="How to build a Weather Station Raspberry Pi 2" /></p>

<h2>Gather data from all the sensors</h2>

<p>Here we will gather the data from all the sensors using an application I wrote. This reader will gather all the information and display it to the console, or send it out to the internet.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>cd ~
</span><span class='line'>git clone https://github.com/JeremyMorgan/Raspberry_Pi_Weather_Station.git reader</span></code></pre></td></tr></table></div></figure>


<p>This will copy the scripts into a folder called &#8220;reader&#8221;. To test them out, type in:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo python readings.py dryrun</span></code></pre></td></tr></table></div></figure>


<p>This does a &#8220;dry run&#8221; that does not send the data anywhere, but displays it on your screen:</p>

<p><img src="/images/raspberry-pi-2-weather-station/raspberry-pi-weather-station-06.jpg" title="How to build a Weather Station Raspberry Pi 2" alt="How to build a Weather Station Raspberry Pi 2" /></p>

<p>You&#8217;re ready to go! If you run it without the &#8220;dryrun&#8221; parameter it will build a JSON object and attempt to send to a web endpoint, which I will show you how to build later in the tutorial.</p>

<h3>Optional: Google Spreadsheets</h3>

<p>You can output data to a Google Spreadsheet using my application you downloaded from GitHub. You will need to setup OAuth with Google, and create a JSON file. Instructions are here:</p>

<p><a href="http://gspread.readthedocs.org/en/latest/oauth2.html">http://gspread.readthedocs.org/en/latest/oauth2.html</a></p>

<p>You will want to store the generated JSON file in the /home/pi/reader/ folder.</p>

<p>One thing you will need to is open up that OAuth JSON file and look for &#8220;client_email&#8221;. It should look like this:</p>

<p>&#8220;client_email&#8221;: &#8220;1233453343244-asdlkjried8ss98eeEic@developer.gserviceaccount.com&#8221;,</p>

<p>After you create your spreadsheet, you will need to add that email address as one who can access the sheet under sharing settings:</p>

<p><img src="/images/raspberry-pi-2-weather-station/raspberry-pi-weather-station-07.jpg" title="How to build a Weather Station Raspberry Pi 2" alt="How to build a Weather Station Raspberry Pi 2" /></p>

<p>Next, open up the following script in the folder:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo nano google.py</span></code></pre></td></tr></table></div></figure>


<p>Replace the GDOCS_OOAUTH_JSON value with the name of your JSON file you downloaded.
Set the GDOCS_SPREADSHEET_NAME with the name of your sheet. Save it.</p>

<p>Type in</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo python google.py</span></code></pre></td></tr></table></div></figure>


<p>if all your information is correct, it will start running and adding rows to your spreadsheet every 30 seconds:</p>

<p><img src="/images/raspberry-pi-2-weather-station/raspberry-pi-weather-station-08.jpg" title="How to build a Weather Station Raspberry Pi 2" alt="How to build a Weather Station Raspberry Pi 2" /></p>

<p>Congratulations! You can now send your data to a Google Spreadsheet. You can run this as a service if you want and store all your data on a Google Drive.</p>

<br />


<p><a href="https://eepurl.com/bMxQr5"><img src="/images/banners/raspberry-pi-newsletter-650.jpg" alt="Raspberry Pi Newsletter" /></a></p>

<br />


<h3>Send it to the cloud</h3>

<p>One thing I did with my setup was create a Microsoft Azure website to act as an endpoint for my setup. You could also run this on any ASP.Net website with a host that supports Web API, <a href="https://affiliates.arvixe.com/track.php?id=5348&amp;tid1=homepage">like Arvixe</a>.</p>

<h4>Setup the API</h4>

<p>You can clone the following repository and open it up in Visual Studio (Should work in 2012 and up)</p>

<p><a href="https://github.com/JeremyMorgan/Raspberry_Pi_Weather_Station_API.git">https://github.com/JeremyMorgan/Raspberry_Pi_Weather_Station_API.git</a></p>

<p>You will need to create a database, the creation script is in /Install SQL folder. Then plug those values into your Web.config and set the folder as an application and start it up!</p>

<p>At this point, you will want to open up readings.py and change the &#8220;url&#8221; field at the bottom of your endpoint, for example:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>url = "http://mysite.com/api/readings</span></code></pre></td></tr></table></div></figure>


<p>I have found it&#8217;s really easy to just create a site on Microsoft Azure for this, and you get 5 free websites, so why not? You can always point it at a different SQL server if you choose.</p>

<h4>Setup the Web UI</h4>

<p>I built a cool little UI for this that uses AngularJS to and some plugins to create some cool visualization:</p>

<p><img src="/images/raspberry-pi-2-weather-station/raspberry-pi-weather-station-09.jpg" title="How to build a Weather Station Raspberry Pi 2" alt="How to build a Weather Station Raspberry Pi 2" /></p>

<p>If you&#8217;d like to run this, you can download it from Github and run it on any website that supports HTML.</p>

<p><a href="https://github.com/JeremyMorgan/Raspberry_Pi_Weather_Station">https://github.com/JeremyMorgan/Raspberry_Pi_Weather_Station</a></p>

<p>Make sure and change the settings in home.services.js to reflect your website:</p>

<p><img src="/images/raspberry-pi-2-weather-station/raspberry-pi-weather-station-10.jpg" title="How to build a Weather Station Raspberry Pi 2" alt="How to build a Weather Station Raspberry Pi 2" /></p>

<p>I&#8217;ll be making some changes to it soon, but for now it&#8217;s a cool little visualization for your setup.</p>

<h3>Summary</h3>

<p>Well I hope you made it through all the way to the end and got this set up. Gathering data is one of the cool parts of IoT, but what are you going to do with it? The possibilities are endless. You could put this in your house to make thermostat adjustments, or put it in a storage area to make sure something valuable is safe. I hope this project inspires you to build more stuff.</p>

<p>To keep up on the progress of this project, <a href="https://github.com/JeremyMorgan">follow me on GitHub</a> or check my <a href="https://twitter.com/JeremyMorgan">Twitter updates</a> to see what&#8217;s next. I have a lot of cool things in store.</p>

<h4>Stay updated on this project:</h4>

<iframe src="https://ghbtns.com/github-btn.html?user=JeremyMorgan&repo=Raspberry_Pi_Weather_Station&type=star&count=true&size=large" frameborder="0" scrolling="0" width="160px" height="30px"></iframe>


<br />


<iframe src="https://ghbtns.com/github-btn.html?user=JeremyMorgan&type=follow&count=true&size=large" frameborder="0" scrolling="0" width="220px" height="30px"></iframe>




<br />


<div>
<h4>My New Course: Hands on Internet of Things with the Raspberry Pi </h4>
<a href="https://www.udemy.com/hands-on-internet-of-things-raspberry-pi/?couponCode=DOTCOMFANS"><img src="/images/banners/internet-of-things.jpg" alt="Internet of Things" /></a>
<br /><br />
<p>I have just released my new course titled &#8221;<a href="https://www.udemy.com/hands-on-internet-of-things-raspberry-pi/?couponCode=DOTCOMFANS">Hands on Internet of Things</a>&#8221; which is intended to be a course for people who want to get started with IoT. I&#8217;ll take you through blinking lights and reading sensors to creating YOUR own IoT endpoint and dashboard. I&#8217;m offering this special coupon for readers of my site: <a href="https://www.udemy.com/hands-on-internet-of-things-raspberry-pi/?couponCode=DOTCOMFANS">get %50 off this course here</a>. Thanks for being a reader! </p>
</div>


<br />


<p><a href="http://eepurl.com/bMxQr5">Like my IoT projects? Sign up here to be added to my IoT newsletter</a><br /></p>

<br />


<p><a href="https://eepurl.com/bMxQr5"><img src="/images/banners/raspberry-pi-newsletter-650.jpg" alt="Raspberry Pi Newsletter" /></a></p>

<br />

</div>

<footer>
    <p class="meta">
      
  

<span class="byline author vcard">Author: <a href="/about/" rel="author"><span class="fn">Jeremy Morgan</span></a></span>


      








  



  
<time datetime="2018-03-25T12:22:00+00:00" class="updated">Updated Mar 25<span>th</span>, 2018</time>
      

<span class="categories">
  
    <a class='category' href='/blog/raspberry-pi/'>Raspberry Pi</a>, <a class='category' href='/blog/tutorials/'>Tutorials</a>
  
</span>


    
      <div class="sharing">
  
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left articlenav" href="/tutorials/linux/how-to-restore-arch-linux-after-installing-windows/" title="Previous Post: How to Restore Arch Linux Boot after Installing Windows">&laquo; How to Restore Arch Linux Boot after Installing Windows</a>
      
      
        <a class="basic-alignment right articlenav" href="/tutorials/python-tutorials/how-to-rest-api-python/" title="Next Post: How to Build a REST API with Python">How to Build a REST API with Python &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
	<br />
	<h2>About Jeremy Morgan</h2>
	<div class="aboutmeimage">&nbsp;</div>
	<p>I'm just a Hacker / Developer writing about Tech, Software Development, Internet of Things and more. <br /><br />I'm passionate about technology, and as long as I'm building cool stuff and helping people I'll never work a day in my life.</p>
	<p><a href="/about/"><strong>More about me</strong></a></p>
	<br />
	<h2>Social Media</h2>
	<ul>
		<li><a href="https://twitter.com/JeremyCMorgan" rel="nofollow"><div class="twittericon">Yell at Me on Twitter</div></a></li>
		<li><a href="https://www.youtube.com/jeremymorgan" rel="nofollow"><div class="youtubeicon">My YouTube Channel</div></a></li>
		<li><a href="https://facebook.com/JeremyMorganDotCom" rel="nofollow"><div class="facebookicon">My Facebook Page</div></a></li>
		<li><a href="https://github.com/jeremymorgan" rel="nofollow"><div class="githubicon">Follow Me on GitHub</div></a></span></li>
	</ul>
</section><section> 
<br /><br />
<h2>Categories</h2>
<ul>
<li><a href="/blog/programming/">Programming</a></li>
<li><a href="/blog/raspberry-pi/">Raspberry Pi</a></li>
<li><a href="/blog/iis/">IIS</a></li>
<li><a href="/blog/arduino/">Arduino</a></li>
<li><a href="/blog/linux/">Linux Tutorials</a></li>
<li><a href="/blog/dotnet/">.Net Tutorials</a></li>
<li><a href="/tutorials/">All Tutorials</a></li>
<li><a href="/blog/general/">General</a></li>
</ul>
<br />
<br />
<a href="https://dzone.com/users/936981/Jeremy+Morgan.html" target="_blank"><img src="/images/dzone-most-valuable-blogger.jpg" alt="DZone Most Valuable Blogger" style="display: block; margin-left: auto; margin-right: auto;"></a>
<br />
<a href="//pluralsight.pxf.io/c/1221983/424552/7490?u=https%3A%2F%2Fwww.pluralsight.com%2Fauthors%2Fjeremy-morgan" target="_blank"><img src="/images/author-badge_sq-black_small.png" alt="Pluralsight Author" style="display: block; margin-left: auto; margin-right: auto;"></a>
<br />
</section><section>
 <br />
  <br />
  <h2>Recent Articles</h2>
  <ul id="recent_posts">
	
	  <li class="post">
		<a href="/blog/programming/reusable-code/">Thinking About Reusable Code</a>
	  </li>
	
	  <li class="post">
		<a href="/blog/devops/andon-cord-in-devops/">Transforming Your Organization with the Andon Cord</a>
	  </li>
	
	  <li class="post">
		<a href="/blog/iis-devops/comparing-iis-configuration/">Comparing and Syncing IIS Configurations</a>
	  </li>
	
	  <li class="post">
		<a href="/blog/iis-devops/how-to-dism-repeatable-iis-install/">Using DISM to Create a Repeatable IIS Installation</a>
	  </li>
	
	  <li class="post">
		<a href="/tutorials/c-sharp/how-to-net-core-unit-test/">Unit Testing with dotnet core</a>
	  </li>
	
	  <li class="post">
		<a href="/blog/linux/how-to-file-sharing-samba/">Set up easy file sharing with Samba</a>
	  </li>
	
	  <li class="post">
		<a href="/blog/devops/windows-to-go-usb-drive/">Windows to Go with the Spyrus USB Drive</a>
	  </li>
	
	  <li class="post">
		<a href="/blog/linux/what-distro-linux-should-i-use/">Which Distribution of Linux Should I Use?</a>
	  </li>
	
	  <li class="post">
		<a href="/tutorials/devops/virtualization-with-virtual-box/">My Latest Virtualization Setup</a>
	  </li>
	
	  <li class="post">
		<a href="/tutorials/IIS/how-to-load-test-iis-web-server/">Load Testing Your IIS Web Server</a>
	  </li>
	
  </ul>
</section><section>
<br /> 
<h1 style="text-align:center; margin: auto;">$5 Linux Hosting</h1>
<a href="https://www.digitalocean.com/?refcode=ca6f81fa42b4"><img src="/images/linux.jpg" /></a>
<h1 style="text-align:center; margin: auto;"><a href="https://www.digitalocean.com/?refcode=ca6f81fa42b4">Click Here For Info</a></h1>
<br />
<br />
<h2>Friends</h2>
<ul>
	<li><a href="http://www.network-node.com/blog">Network Node</a></li>
	<li><a href="http://dannynunez.com/">Danny Nunez</a></li>
	<li><a href="http://steven-senkus.com/">Steven Senkus</a></li>
	<li><a href="http://chriswhitney.com/">Chris Whitney</a></li>
	<li><a href="http://johnatten.com/">John Atten</a></li>
	<li><a href="http://compositecode.com">Composite Code</a></li>
	<li><a href="http://notla.com">Brad Carter</a></li>
	<li><a href="http://scottbones.com">Scott Bones</a></li>
	<li><a href="http://workingwebsolutions.com">Working Web Solutions</a></li>
	<li><a href="https://dotnetkicks.com/">Dot Net Kicks</a></li>	
</ul>
</section>  <section>
  <br /><br />
  <h2>My RSS Feeds</h2>
  <ul>
  <li><a href="https://feeds.feedburner.com/JeremyMorganTutorials" rel="alternate" rel="nofollow" type="application/rss+xml"><div class="feedsharkicon">Tutorials Feed</div></a></li>
  <li><a href="https://feeds.feedburner.com/JeremyMorganRaspberryPi" rel="alternate" rel="nofollow" type="application/rss+xml"><div class="feedsharkicon">Raspberry Pi Feed</div></a></li>
  <li><a href="https://feeds.feedburner.com/JeremyMorganProgramming" rel="alternate" rel="nofollow" type="application/rss+xml"><div class="feedsharkicon">Programming Article Feed</div></a></li>  
  <li><a href="https://feeds.feedburner.com/jeremymorgan/NJwt" rel="alternate" rel="nofollow" type="application/rss+xml"><div class="feedsharkicon">All Feeds</div></a></li>
  </ul>
  </section>
<div class="g-plusone" data-annotation="inline" data-width="245"></div>


<!-- <div style="margin-left: auto;margin-right: auto; text-align: center;" > -->
<!-- possible ad space -->

<section>
		<br />
			<br />
	<h2>My Courses</h2>

	<ul>
<li><a href="//pluralsight.pxf.io/c/1221983/424552/7490?u=https%3A%2F%2Fwww.pluralsight.com%2Fcourses%2Fiis-administration-fundamentals"><div class="psicon">IIS Adminstration Fundamentals</div></a></li>
<li><a href="//pluralsight.pxf.io/c/1221983/424552/7490?u=https%3A%2F%2Fwww.pluralsight.com%2Fcourses%2Fiis-administration-in-depth"><div class="psicon">IIS Adminstration In Depth</div></a></li>
<li><a href="//pluralsight.pxf.io/c/1221983/424552/7490?u=https%3A%2F%2Fwww.pluralsight.com%2Fcourses%2Finstalling-configuring-iis"><div class="psicon">Installing and Configuring IIS</div></a></li>
<li><a href="//pluralsight.pxf.io/c/1221983/424552/7490?u=https%3A%2F%2Fwww.pluralsight.com%2Fcourses%2Fcreating-configuring-new-websites-iis"><div class="psicon">Configuring New Websites</div></a></li>
<li><a href="https://www.udemy.com/hands-on-asp-net-core-2/?couponCode=JMDOTCOM"><div class="udemyicon">Hands on ASP.NET CORE</div></a></li>
<li><a href="https://www.udemy.com/hands-on-internet-of-things-raspberry-pi/?couponCode=JMDOTCOM"><div class="udemyicon">Hands on Internet of Things</div></a></li>
</ul>
</div>
<br />
<br />
</section>
  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><div class="footerstuff"><p>Copyright &copy; 2019 - Jeremy Morgan -<span class="credit">Proudly Powered by <a href="http://octopress.org">Octopress</a> with <a href="http://blog.jphpsf.com/2012/06/12/squeezing-octopress-for-faster-load-times">optimizations from JP</a></span></p>
<p>This website dedicated to the memory of <a href="/blog/general/a-dent-in-the-universe/">Russell Peckham</a> and <a href="https://www.jeremymorgan.com/greg-peckham/">Greg Peckham</a>. Without them this site would not exist.</p>
</div>
<!-- Place this tag in your head or just before your close body tag. -->
<script src="https://apis.google.com/js/platform.js" async defer></script>
</footer>
  



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>






<script type="text/javascript">
(function() {
  var all = document.createElement('script'); all.type = 'text/javascript'; all.async = true;
  all.src = 'https://jeremymorgan.com/scripts/allscripts.js';
  s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(all, s);
})();
</script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-2937467-1', 'auto');
  ga('send', 'pageview');

</script>



</body>
</html>
